<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: PatientsController
  
    &mdash; Documentation by YARD 0.9.8
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "PatientsController";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (P)</a> &raquo;
    
    
    <span class="title">PatientsController</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: PatientsController
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActionController::API</li>
          
            <li class="next"><span class='object_link'><a href="ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></li>
          
            <li class="next">PatientsController</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/controllers/patients_controller.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Controls access to the patient instances stored in the API database</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://github.com/CMPUT401/vettr_server/wiki/API-Documentation#clients" target="_parent" title="https://github.com/CMPUT401/vettr_server/wiki/API-Documentation#clients">https://github.com/CMPUT401/vettr_server/wiki/API-Documentation#clients</a></li>
    
  </ul>
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Justin Barclay &amp; Mackenzie Bligh</p>
</div>
      
    </li>
  
</ul>

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles HTTP POST request sent to /api/client.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles HTTP GET request sent to /api/patients/id, and replies with
specific patients&#39;s info, or an error in a JSON.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#show-instance_method" title="#show (instance method)">#<strong>show</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles HTTP GET request sent to /api/patients/id, and replies with
specific patients&#39;s info, or an error in a JSON.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ApplicationController.html#server_error-instance_method" title="ApplicationController#server_error (method)">#server_error</a></span></p>

  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create-instance_method">
  
    #<strong>create</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handles HTTP POST request sent to /api/client.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>request body</p>
</div></p>
      
      <pre class="example code"><code><span class='lbrace'>{</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>patient</span><span class='label_end'>&quot;:</span>
         <span class='lbrace'>{</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>client</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>client id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>species</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Chairman Meow</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>age</span><span class='label_end'>&quot;:</span> <span class='int'>17</span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gender</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Male</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>colour</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Red</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tattoo</span><span class='label_end'>&quot;:</span> <span class='int'>197265</span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>microchip</span><span class='label_end'>&quot;:</span> <span class='kw'>nil</span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reproductive_status</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Spade</span><span class='tstring_end'>&quot;</span></span>
         <span class='rbrace'>}</span>
 <span class='rbrace'>}</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>failure response</p>
</div></p>
      
      <pre class="example code"><code>{
&quot;success&quot;: false,
&quot;errors&quot;: [....] // list of errors
}</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>HTTP 201 if success: true JSON</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>HTTP 500 if failure: false JSON</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36
37
38
39
40
41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/patients_controller.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>
  <span class='id identifier rubyid_patient'>patient</span> <span class='op'>=</span> <span class='id identifier rubyid_patient_params'>patient_params</span>
  <span class='comment'># extract the client id from the JSON to a Client object
</span>  <span class='id identifier rubyid_patient'>patient</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>client</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Client.html" title="Client (class)">Client</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find_by'>find_by</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_patient'>patient</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>client</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@patient</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Patient.html" title="Patient (class)">Patient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_patient'>patient</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='ivar'>@patient</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='id identifier rubyid_render'>render</span> <span class='label'>status:</span> <span class='int'>201</span><span class='comma'>,</span> <span class='label'>json:</span> <span class='lbrace'>{</span> <span class='label'>success:</span> <span class='kw'>true</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_render'>render</span> <span class='label'>status:</span> <span class='symbol'>:error</span><span class='comma'>,</span> <span class='label'>json:</span> <span class='lbrace'>{</span> <span class='label'>success:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>errors:</span> <span class='ivar'>@patient</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_full_messages'>full_messages</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="index-instance_method">
  
    #<strong>index</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handles HTTP GET request sent to /api/patients/id, and replies with
specific patients&#39;s info, or an error in a JSON.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>success response</p>
</div></p>
      
      <pre class="example code"><code>{
&quot;success&quot;: &quot;true&quot;
&quot;patients&quot;: [ { &quot;name&quot;: &quot;Chairman Meow, &quot;id&quot;: 1}...]
} </code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>failure response</p>
</div></p>
      
      <pre class="example code"><code>{
 &quot;success&quot;: false,
 &quot;errors&quot;: [....] // list of errors
 }</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>HTTP 200 if success: true JSON</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>HTTP 404 if failure: false on failure</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/patients_controller.rb', line 164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_index'>index</span>
  <span class='id identifier rubyid_patients'>patients</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Patient.html" title="Patient (class)">Patient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
  <span class='id identifier rubyid_patient_list'>patient_list</span> <span class='op'>=</span> <span class='id identifier rubyid_filter_patient_keys'>filter_patient_keys</span> <span class='id identifier rubyid_patients'>patients</span>

  <span class='id identifier rubyid_render'>render</span> <span class='label'>json:</span> <span class='lbrace'>{</span> <span class='label'>success:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>patients:</span> <span class='id identifier rubyid_patient_list'>patient_list</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="show-instance_method">
  
    #<strong>show</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handles HTTP GET request sent to /api/patients/id, and replies with
specific patients&#39;s info, or an error in a JSON.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>success response</p>
</div></p>
      
      <pre class="example code"><code>{
    &quot;success&quot;: true,
    &quot;patient&quot;: 
        { 
            &quot;id&quot;: &quot;patient_id&quot;,
            &quot;species&quot;: &quot;cat&quot;,
            &quot;name&quot;: &quot;Chairman Meow&quot;,
            &quot;age&quot;: 17,
            &quot;gender&quot;: &quot;Male&quot;,
            &quot;colour&quot;: &quot;Red&quot;,
            &quot;tattoo&quot;: 197265,
            &quot;microchip&quot;: nil,
            &quot;reproductive_status&quot;: &quot;Spade&quot;
        &quot;client&quot;:{  
              &quot;id&quot;:443855961,
              &quot;firstName&quot;:&quot;Justin&quot;,
              &quot;address&quot;:&quot;116 St \u0026 85 Ave, Edmonton, AB T6G 2R3&quot;,
              &quot;phoneNumber&quot;:&quot;7805555555&quot;,
              &quot;email&quot;:&quot;fakejustin@ualberta.ca&quot;,
              &quot;licos&quot;:123456.0,
              &quot;aish&quot;:null,
              &quot;socialAssistance&quot;:76543.0,
              &quot;pets&quot;:&quot;12404&quot;,
              &quot;created_at&quot;:&quot;2017-03-22T07:31:04.999Z&quot;,
              &quot;updated_at&quot;:&quot;2017-03-22T07:31:04.999Z&quot;,
              &quot;alternativeContactEmail&quot;:null,
              &quot;lastName&quot;:&quot;Barclay&quot;,
              &quot;alternativeContactLastName&quot;:null,
              &quot;alternativeContactFirstName&quot;:null,
              &quot;alternativeContactPhoneNumber&quot;:null,
              &quot;alternativeContactAddress&quot;:null,
              &quot;notes&quot;:null,
              &quot;alternativeContact2ndPhone&quot;:null
              }},
        &quot;generalAlerts&quot;:  
        [  
        [{  
            &quot;id&quot;:298486374,
            &quot;body&quot;:&quot;You are not supposed to understand this&quot;,
            &quot;initials&quot;:&quot;GG&quot;,
            &quot;medical_record_id&quot;:980190962,
            &quot;created_at&quot;:&quot;2017-03-22T07:31:04.979Z&quot;,
            &quot;updated_at&quot;:&quot;2017-03-22T07:31:04.979Z&quot;,
            &quot;is_alert&quot;:true
        }]] 

&quot;medicationAlerts&quot;:[  
    {  
        &quot;id&quot;:980190962,
        &quot;name&quot;:&quot;Hydrogen Dioxide&quot;,
        &quot;medical_record_id&quot;:980190962,
        &quot;patient_id&quot;:980190962,
        &quot;created_at&quot;:&quot;2017-03-22T07:31:05.130Z&quot;,
        &quot;updated_at&quot;:&quot;2017-03-22T07:31:07.492Z&quot;,
        &quot;reminder&quot;:1492840800,
        &quot;med_type&quot;:&quot;Medicine&quot;
    }]
}
} </code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>failure response</p>
</div></p>
      
      <pre class="example code"><code>{
 &quot;success&quot;: false,
 &quot;errors&quot;: [....] // list of errors
 }</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>HTTP 200 if success: true JSON</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>HTTP 404 if failure: false on failure</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/patients_controller.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_show'>show</span>
  <span class='ivar'>@patient</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Patient.html" title="Patient (class)">Patient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find_by'>find_by</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@medical_records</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="MedicalRecord.html" title="MedicalRecord (class)">MedicalRecord</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>patient_id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@generalAlerts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@medicationAlerts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@medications</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Medication.html" title="Medication (class)">Medication</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>patient_id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='ivar'>@medical_records</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_medRec'>medRec</span><span class='op'>|</span>
    <span class='ivar'>@notes</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Note.html" title="Note (class)">Note</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>medical_record_id:</span> <span class='id identifier rubyid_medRec'>medRec</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='label'>is_alert:</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='ivar'>@notes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_note'>note</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_note'>note</span> <span class='op'>!=</span> <span class='kw'>nil</span>
        <span class='ivar'>@generalAlerts</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='id identifier rubyid_note'>note</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@medications</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_med'>med</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_med'>med</span><span class='period'>.</span><span class='id identifier rubyid_reminder'>reminder</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>&lt;</span> <span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span> <span class='op'>+</span> <span class='int'>3</span><span class='period'>.</span><span class='id identifier rubyid_months'>months</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_time'>to_time</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>and</span> <span class='id identifier rubyid_med'>med</span><span class='period'>.</span><span class='id identifier rubyid_reminder'>reminder</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_med'>med</span><span class='period'>.</span><span class='id identifier rubyid_reminder'>reminder</span> <span class='op'>!=</span> <span class='kw'>nil</span> <span class='kw'>and</span> <span class='id identifier rubyid_med'>med</span> <span class='op'>!=</span> <span class='kw'>nil</span>
      <span class='ivar'>@medicationAlerts</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='id identifier rubyid_med'>med</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@patient</span>
    <span class='comment'># Return client with a patient, to match UI
</span>    <span class='comment'># UI always shows the client info with a patient info
</span>
    <span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Client.html" title="Client (class)">Client</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@patient</span><span class='period'>.</span><span class='id identifier rubyid_client_id'>client_id</span><span class='rparen'>)</span>
    <span class='ivar'>@patient</span> <span class='op'>=</span> <span class='ivar'>@patient</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span>
    <span class='ivar'>@patient</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>client</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span>

    <span class='id identifier rubyid_render'>render</span> <span class='label'>json:</span> <span class='lbrace'>{</span> <span class='label'>success:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>patient:</span> <span class='ivar'>@patient</span><span class='comma'>,</span> <span class='label'>generalAlerts:</span> <span class='ivar'>@generalAlerts</span><span class='comma'>,</span> <span class='label'>medicationAlerts:</span> <span class='ivar'>@medicationAlerts</span><span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_render'>render</span> <span class='label'>status:</span> <span class='int'>404</span><span class='comma'>,</span> <span class='label'>json:</span> <span class='lbrace'>{</span><span class='label'>success:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>error:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Patient not found</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Mar 23 22:21:37 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.8 (ruby-2.4.0).
</div>

    </div>
  </body>
</html>